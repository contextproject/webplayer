@(title: String)(content: Html)

<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<link rel="stylesheet" type="text/css" href="@routes.Assets.at("stylesheets/index.css")">
<script type="text/javascript" src="@routes.Assets.at("javascripts/api.js")"></script>
</head>

<body>
<iframe id="sc-widget" src="https://w.soundcloud.com/player/?url=http://soundcloud.com/ahovanesyan/likes" width="100%" height="465" scrolling="no" frameborder="no"></iframe>
<script src="@routes.Assets.at("javascripts/api.js")" type="text/javascript"></script>
<script type="text/javascript">
  (function(){
    var widgetIframe 	= document.getElementById('sc-widget');
    var widget      	= SC.Widget(widgetIframe);
	var url1 			= "";
	var url2 			= 'http://api.soundcloud.com/users/1539950/favorites';


     widget.bind(SC.Widget.Events.READY, function() {
      // load new widget
      widget.play();
    });
	
	widget.bind(SC.Widget.Events.PLAY,function(){
		widget.seekTo(31000);
	});
	
	 widget.bind(SC.Widget.Events.PLAY_PROGRESS, function() {
		if( widget.getPosition() > 35000) {	
			widget.pause();
		}
	  });
	
	  widget.bind(SC.Widget.Events.FINISH, function() {
		widget.load(url2, {
         show_artwork: true,
		 start_track: 5,
		 auto_play: true
		});
	  });
  }());
</script>
<!--
<div class="inputContainer">
        <input class="urlInput" placeholder="Enter SoundCloud URL of the track/set/user" type="text">
        <button class="reload">Reload</button>
 </div>
 -->
	<div class="actions">
		<input class="urlInput" placeholder="Enter SoundCloud URL of the track/set/user" type="text">
		<button class="reload">Reload</button>
		<dl class="actionButtons">
			<dd><button class="seekTo">Seek <input type="text" value="30000" size="10" maxlength="10" /></button></dd>
			<dd><button class="preview">Preview</button></dd>
		</dl>
    </div>
	<script type="text/javascript"> 
	(function(){
		var widgetIframe 	= document.getElementById('sc-widget');
		var widget      	= SC.Widget(widgetIframe);
		var url2 			= 'http://api.soundcloud.com/users/1539950/favorites';
		
		
		//Template for adding event listeners.
		function addEvent(element, eventName, callback) {
        if (element.addEventListener) {
          element.addEventListener(eventName, callback, false);
        } else {
          element.attachEvent(eventName, callback, false);
        }
      }
		
		//Adding the functionality of reloading the wiidget with a given url.
		var reloadButton = document.querySelector('.reload');
		var widgetUrlInput = document.querySelector('.urlInput');
		addEvent(reloadButton, 'click', function() {
        widget.load(widgetUrlInput.value, {
			auto_play: true
			});
		});
		
		//adding functionality to the seek button with the given input.
		var seekToButton = document.querySelector('.seekTo');
		var seekInput = seekToButton.querySelector('input');
		addEvent(seekToButton, 'click', function(e) {
			//'if' prevents the function to trigger when the input field is pressed.
			if (e.target !== this) {
				e.stopPropagation();
				return false;
			}
			widget.seekTo(seekInput.value)
		});
		
		
	}());
  </script>
</body>

</html>
